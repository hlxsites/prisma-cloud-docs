== The --secure-port argument is set to 0 misconfiguration detected in code
// '--secure-port' argument set to 0

=== Rule Details

[cols="1,2"]
|===
|Cortex AppSec Rule ID |APPSEC_K8S_89
|Category - Subcategory |Public Exposure - APIs
|Provider |
|Severity |LOW
|Framework |Kubernetes, Helm, Kustomize
|Mapped CSPM/KSPM Rule |None
|===
 



=== Impact
Do not disable the secure port.
The secure port is used to serve https with authentication and authorization.
If you disable it, no https traffic is served and all traffic is served unencrypted.

=== How to Fix


*Kubernetes* 


* *Kind:* Pod


[source,yaml]
----
{
 "apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    component: kube-apiserver
    tier: control-plane
  name: kube-apiserver
  namespace: kube-system
spec:
  containers:
  - command:
+   - kube-apiserver
+   - --secure-port=80
    image: gcr.io/google_containers/kube-apiserver-amd64:v1.6.0
    ...",
}
----

